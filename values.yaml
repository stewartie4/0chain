serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""
  
sharder:
  sharderCount: 1
  replicaCount: 1
  namespace: grpc
  host: grpc.0chain.net

  sharderImage:
    repository: 0chaindev/sharder
    pullPolicy: Always
    tag: peter-bbist-vc-true-stuck-8728f970

  imagePullSecrets: 
    - name: regcred
  nameOverride: ""
  fullnameOverride: ""

  podAnnotations: {}

  podSecurityContext: {}
    # fsGroup: 2000

  securityContext: {}
    # capabilities:
    #   drop:
    #   - ALL
    # readOnlyRootFilesystem: true
    # runAsNonRoot: true
    # runAsUser: 1000

  sharderEnv:
    DOCKER: "true"
  
  sharderResources:
    requests:
      cpu: "500m"
      memory: "750Mi"
    limits:
      cpu: "1500m"
      memory: "1500Mi"

  sharderService:
    type: NodePort
    port: 3120

  ############## Sharder FileBeat ################
  sharderFilebeatImage:
    repository: docker.elastic.co/beats/filebeat
    tag: "7.8.0"

  sharderFilebeatResources:
    requests:
      cpu: "50m"
      memory: "50Mi"
    limits:
      cpu: "100m"
      memory: "100Mi"

  ################# Cassandra ################
  cassandraImage:
    repository: cassandra
    tag: "3.11.4"

  cassandraResources:
    requests:
      cpu: "50m"
      memory: "500Mi"
    limits:
      cpu: "500m"
      memory: "1.5Gi"

  cassandraEnv:
    MAX_HEAP_SIZE: "512M"
    HEAP_NEWSIZE: "100M"

  cassandraService:
    port: 9042
    targetPort: 9042
    protocol: TCP

  ################# Cassandra Init ################
  cassandraInitImage:
    repository: cassandra
    tag: latest

  cassandraInitResources:
    requests:
      cpu: "50m"
      memory: "100Mi"
    limits:
      cpu: "400m"
      memory: "1Gi"

  ################# PV & PVC ################
  persistence:
    enabled: false

    ## A manually managed Persistent Volume and Claim
    ## Requires persistence.enabled: true
    ## If defined, PVC must be created manually before volume will be bound
    # existingClaim:

    ## rabbitmq data Persistent Volume Storage Class
    ## If defined, storageClassName: <storageClass>
    ## If set to "-", storageClassName: "", which disables dynamic provisioning
    ## If undefined (the default) or set to null, no storageClassName spec is
    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
    ##   GKE, AWS & OpenStack)
    
    ######### PV HostPath ###########
    pvHostPath: "/mnt/kubernetes/"
    
    ####### PV #######
    storageClass_data_pv: sharder-data-0
    accessMode_data_pv: ReadWriteOnce
    size_data_pv: 30Gi

    storageClass_log_pv: sharder-log-0
    accessMode_log_pv: ReadWriteOnce
    size_log_pv: 3Gi

    ####### PVC #######
    storageClass_data_pvc: sharder-data-0
    accessMode_data_pvc: ReadWriteOnce
    size_data_pvc: 30Gi

    storageClass_log_pvc: sharder-log-0
    accessMode_log_pvc: ReadWriteOnce
    size_log_pvc: 3Gi

  # autoscaling:
  #   enabled: false
  #   minReplicas: 1
  #   maxReplicas: 100
  #   targetCPUUtilizationPercentage: 80
  #   # targetMemoryUtilizationPercentage: 80

  # nodeSelector: {}

  # tolerations: []

  # affinity: {}

miner:
  minerCount: 1
  replicaCount: 1
  namespace: grpc
  host: grpc.0chain.net

  minerImage:
    repository: 0chaindev/miner
    pullPolicy: Always
    # Overrides the image tag whose default is the chart appVersion.
    tag: peter-bbist-vc-true-stuck-8728f970

  imagePullSecrets: 
    - name: regcred
  nameOverride: ""
  fullnameOverride: ""

  podAnnotations: {}

  podSecurityContext: {}
    # fsGroup: 2000

  securityContext: {}
    # capabilities:
    #   drop:
    #   - ALL
    # readOnlyRootFilesystem: true
    # runAsNonRoot: true
    # runAsUser: 1000

  minerEnv:
    DOCKER: "true"
  
  minerResources:
    requests:
      cpu: "500m"
      memory: "500Mi"
    limits:
      cpu: "1250m"
      memory: "1000Mi"

  minerService:
    port: 3120
    targetPort: 3120
    type: NodePort

  ############## Miner FileBeat ################
  minerFilebeatImage:
    repository: docker.elastic.co/beats/filebeat
    tag: "7.8.0"

  minerFilebeatResources:
    requests:
      cpu: "50m"
      memory: "50Mi"
    limits:
      cpu: "100m"
      memory: "100Mi"

  ################# Redis ################
  redisImage:
    repository: redis
    tag: alpine

  redisResources:
    requests:
      cpu: "50m"
      memory: "50Mi"
    limits:
      cpu: "100m"
      memory: "100Mi"

  redisService:
    protocal: TCP
    port: 6379
    targetPort: 6379

  ################# redis TXN ################
  redisTxnImage:
    repository: redis
    tag: alpine

  redisTxnResources:
    requests:
      cpu: "50m"
      memory: "50Mi"
    limits:
      cpu: "100m"
      memory: "100Mi"

  redisTxnService:
    protocal: TCP
    port: 6379
    targetPort: 6379

  # autoscaling:
  #   enabled: false
  #   minReplicas: 1
  #   maxReplicas: 100
  #   targetCPUUtilizationPercentage: 80
  #   # targetMemoryUtilizationPercentage: 80

  # nodeSelector: {}

  # tolerations: []

  # affinity: {}

  ################# PV & PVC ################
  persistence:
    enabled: false

    ## A manually managed Persistent Volume and Claim
    ## Requires persistence.enabled: true
    ## If defined, PVC must be created manually before volume will be bound
    # existingClaim:

    ## rabbitmq data Persistent Volume Storage Class
    ## If defined, storageClassName: <storageClass>
    ## If set to "-", storageClassName: "", which disables dynamic provisioning
    ## If undefined (the default) or set to null, no storageClassName spec is
    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
    ##   GKE, AWS & OpenStack)
    
    ######### PV HostPath ###########
    pvHostPath: "/mnt/kubernetes/"

    ############### PV ##############
    storageClass_data_pv: miner-data-0
    accessMode_data_pv: ReadWriteOnce
    size_data_pv: 30Gi

    storageClass_log_pv: miner-log-0
    accessMode_log_pv: ReadWriteOnce
    size_log_pv: 3Gi

    ############### PVC ##############
    storageClass_data_pvc: miner-data-0
    accessMode_data_pvc: ReadWriteOnce
    size_data_pvc: 30Gi

    storageClass_log_pvc: miner-log-0
    accessMode_log_pvc: ReadWriteOnce
    size_log_pvc: 3Gi
